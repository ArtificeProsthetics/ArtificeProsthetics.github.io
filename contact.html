<!DOCTYPE html>
<html>
<head>
<title>Artifice</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="web.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body, h1,h2,h3,h4,h5,h6 {font-family: "Montserrat", sans-serif}
.row-padding img {margin-bottom: 12px}
/* Add a left margin to the "page content" that matches the width of the sidebar (120px) */
#main {margin-left: 10vw}
/* Remove margins from "page content" on small screens */
@media only screen and (max-width: 600px) {#main {margin-left: 0}}
</style>
</head>

<body class="dark-blue">
    <p class="center">contact</p>
    <p>Business: <a href=mailto:lincoln.wagner@utah.edu>lincoln.wagner@utah.edu</a></p>
    <p>Discord: <a href="https://discord.com/users/412796341350170627">skillplants</a></p>
    <label for="pingMessage">Ping Me Directly:</label>
    <form onsubmit="pingDiscord(event)">
        <textarea maxlength="150" id="pingMessage"></textarea>
        <button type="submit">submit</button>
    </form>
    <script>
     async function pingDiscord(ev) {
        ev.preventDefault();

        const senderMessage = document
          .getElementById('pingMessage').value;

        const webhookBody = {
          embeds: [{
            title: 'Artifice Ping',
            fields: [
              { name: 'Message', value: senderMessage }
            ]
          }],
        };

        const webhookUrl = 'https://discord.com/api/webhooks/1261543220572327966/FJ_LPCE6riTT9b6V2qJQDeySEY_YdDBCWS3Gb5CRPIe3Z0Wc8osXVID4LAjorbjxNG86';

        const response = await fetch(webhookUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(webhookBody),
        });

        if (response.ok) {
          alert('Ping Sent!');
        } else {
          alert('There was an error! Try again later!');
        }
      }        
    </script>
</body>
</html>